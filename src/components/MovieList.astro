---
import MovieCard from "@components/MovieCard.astro";
import { getBestMoviesByYear } from "../lib/turso";

const { year } = Astro.props;

const topMovies = await getBestMoviesByYear(year);
---

<div class="container mx-auto px-4 pt-16 mb-16">
  <div class="popular-movies">
    <h2 class="uppercase tracking-wider text-red-600 text-xl font-semibold">
      {year}
    </h2>
    <div
      class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8"
    >
      {topMovies.map((movie) => <MovieCard movie={movie} />)}
    </div>
  </div>
</div>
